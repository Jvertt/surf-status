{"ast":null,"code":"import _slicedToArray from\"/Users/justinverthein/Development/code/phase-2/surf-status/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewSpot=function NewSpot(_ref){var handleAdd=_ref.handleAdd;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),body=_useState6[0],setBody=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isPending=_useState10[0],setisPending=_useState10[1];var redirect=useHistory();var handleSubmit=function handleSubmit(e){var spot={title:title,image:image,body:body,location:location};e.preventDefault();setisPending(true);fetch('http://localhost:3000/spots',{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(spot)}).then(function(r){return r.json();}).then(function(newObj){return handleAdd(newObj);});redirect.push('/');};return/*#__PURE__*/_jsxs(\"div\",{className:\"new-spot\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Add a new spot!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Surf Spot \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\" Image \"}),/*#__PURE__*/_jsx(\"textarea\",{required:true,value:image,onChange:function onChange(e){return setImage(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\" Surf body\"}),/*#__PURE__*/_jsx(\"textarea\",{required:true,value:body,onChange:function onChange(e){return setBody(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\" Location \"}),/*#__PURE__*/_jsx(\"textarea\",{required:true,value:location,onChange:function onChange(e){return setLocation(e.target.value);}}),!isPending&&/*#__PURE__*/_jsx(\"button\",{children:\" add spot\"}),isPending&&/*#__PURE__*/_jsx(\"button\",{children:\" adding spot...\"})]})]});};export default NewSpot;","map":{"version":3,"names":["useState","useHistory","jsx","_jsx","jsxs","_jsxs","NewSpot","_ref","handleAdd","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","image","setImage","_useState5","_useState6","body","setBody","_useState7","_useState8","location","setLocation","_useState9","_useState10","isPending","setisPending","redirect","handleSubmit","e","spot","preventDefault","fetch","method","headers","JSON","stringify","then","r","json","newObj","push","className","children","onSubmit","type","required","value","onChange","target"],"sources":["/Users/justinverthein/Development/code/phase-2/surf-status/src/NewSpot.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n\nconst NewSpot = ({handleAdd}) => {\n    const [title, setTitle] = useState('');\n    const [image, setImage] = useState('')\n    const [body, setBody] = useState('');\n    const [location, setLocation] = useState('');\n    const [isPending, setisPending] = useState(false);\n    const redirect = useHistory()\n\n    const handleSubmit = (e) => {\n        const spot = {title, image, body,location};\n        e.preventDefault()\n        setisPending(true)\n        fetch('http://localhost:3000/spots', {\n            method: 'POST',\n            headers: {\"Content-Type\": \"application/json\" },\n            body: JSON.stringify(spot)\n        })\n        .then((r) => r.json())\n        .then(newObj => handleAdd(newObj))\n        redirect.push('/')\n    }\n\n    return(\n        <div className=\"new-spot\"> \n        <h2> Add a new spot!</h2>\n        <form onSubmit={handleSubmit}> \n            <label> Surf Spot </label>\n            <input\n            type=\"text\"\n            required\n            value={title}\n            onChange={ (e) => setTitle(e.target.value)}\n            />\n            <label> Image </label>\n            <textarea\n            required\n            value ={image}\n            onChange={ (e) => setImage(e.target.value)}\n            ></textarea>\n            <label> Surf body</label>\n            <textarea\n            required\n            value ={body}\n            onChange={ (e) => setBody(e.target.value)}\n            ></textarea>\n            <label> Location </label>\n            <textarea\n            required\n            value ={location}\n            onChange={ (e) => setLocation(e.target.value)}\n            ></textarea>\n            { !isPending && <button> add spot</button>}\n            { isPending && <button> adding spot...</button>}\n        </form>\n        </div>\n    )\n}\n\n\nexport default NewSpot;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}